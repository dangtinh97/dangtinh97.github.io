<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Audio</title>
    <style>
        #form{
            display: none;
        }
    </style>
</head>
<body>
<div id="form">
<div id="status"></div>
</div>
<textarea rows="10" cols="150" id="text">- Control of the House of Representatives, and as with so much, these elections here in the U. S. , the outcome is likely to be decided by just a small number of contests. - But it will have, as we were saying, that huge impact on how easily the next president will be able to govern, do the things that they've promised to do during their campaign, at least until the next congressional elections, the midterms in 2026. - And actually, it's worth taking a moment to explain how things work here, because the U. S. election is an absolutely huge exercise. Around 240 million people are eligible to vote in total, and a third of them, 82 million, have already voted early, either in person or by post. - And the reason we talk about states like this one, states like Pennsylvania, is because it comes down to electoral college votes. You could, as Hillary Clinton did in 2016, than anybody else, but that's not what it's about.</textarea>
<button id="play">Play</button>
<button id="stop">Stop</button>
<script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
<script>
    document.addEventListener("DOMContentLoaded",()=>{
      let time = setInterval(()=>{
        const voices = window.speechSynthesis.getVoices();
        console.log(voices)
        if(voices.length>0){
          clearInterval(time)
          $('#form').show()
        }
      },100)

      $('#play').on('click',()=>{
        const utterance = new SpeechSynthesisUtterance($('#text').val());
        utterance.lang = 'en-US'; // Thiết lập ngôn ngữ thành tiếng Việt
        utterance.rate = 1; // Tốc độ nói (0.1 đến 10)
        utterance.pitch = 1; // Độ cao giọng nói (0 đến 2)
        // Phát âm thanh
        window.speechSynthesis.speak(utterance);
        $('#status').html('Click Play')
      })

      $('#stop').on('click',()=>{
        window.speechSynthesis.cancel()
        $('#status').html('Click Stop')
      })
    })
</script>
</body>
</html>
