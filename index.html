<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="assets/css/reset.css">
    <link rel="stylesheet" href="assets/css/demo-chat.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/malihu-custom-scrollbar-plugin/3.1.5/jquery.mCustomScrollbar.min.css">
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/malihu-custom-scrollbar-plugin/3.1.5/jquery.mCustomScrollbar.min.js"></script>

    <title>Chat</title>
</head>
<body>
<button type="button" id="open-app-1">open drumtify</button>
<button type="button" id="open-app-2">open locamos</button>
<div id="show_text"></div>

<script>
    document.addEventListener("DOMContentLoaded",function (){
        var app2="locamos://?store_oid=61dd03f747840552aa29b732&type=STORE&cmd=share_gift&lang=en";
        var app1 = 'drumtify://?videoID=TKIfLjkUYJw&song=SMaw4bubbmcgZOG6q24gbmdoZSBuaOG6oWMgT2ZmbGluZSBraGkgdOG6r3QgbcOgbiBow6xuaCBob+G6t2MgY2jhur8gxJHhu5kgUGlQIHRyw6puIERydW10aWZ5&singer=RHJ1bXRpZnkgLSBNdXNpYyBGb3IgTGlmZQ==';
        var timeOut = null;
        let outAppNotify = false;
        let text = "";
        var windowHasFocus;

        $(window).focus(function() {
            setText("forcus")
            windowHasFocus = true;
        }).blur(function() {
            setText("blur")
            windowHasFocus = false;
        });


        document.addEventListener("visibilitychange", event => {
            clearTimeout(timeOut);
            setText(document.visibilityState)
        })

        function setText(str)
        {
            text +=str+"|"
            document.getElementById('show_text').innerText = text;
        }


        function openApp() {
            outAppNotify = false;
            // window.location = appurl;
            window.location = app1;
            setText("click open app1")
        }

        function openApp2()
        {
            outAppNotify = false;
            // window.location = appurl;
            window.location = app2;
            setText("click open app2")
        }

        $(this).on("click",'#open-app-1',openApp)
        $(this).on("click",'#open-app-2',openApp2)
    })


</script>
</body>
</html>