<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Button Hold or Click</title>
    <style>
        #myButton {
            -webkit-user-select: none;
            -webkit-touch-callout: none;
            touch-action: manipulation;
            width: 70px;
            height: 70px;
            border-radius: 50%;
            background-color: red;
            border: none;
            outline: none;
            cursor: pointer;
            transition: background-color 0.2s;
            position: fixed;
            bottom: 30px; /* Cách cạnh dưới 20px */
            left: 50%;
            transform: translateX(-50%);
            color: white;
        }
    </style>
</head>
<body>
<div>version: 1.0.3</div>
<button id="myButton">REC</button>
<div id="log"></div>
<script>
  const button = document.getElementById('myButton');
  const log = document.getElementById('log');
  let holdTimeout;

  // button.addEventListener('mousedown', () => {
  //   // Khi bắt đầu nhấn, thiết lập thời gian chờ để xác định là nhấn giữ
  //   holdTimeout = setTimeout(() => {
  //     console.log('Button is held down');
  //     log.innerText = ('Button is held down');
  //     // Xử lý khi nhấn giữ
  //   }, 500); // thời gian (ms) để xác định là nhấn giữ
  // });

  button.addEventListener('touchstart', (event) => {
    //event.preventDefault(); // Ngăn chặn kính lúp trên iOS
    holdTimeout = setTimeout(() => {
      console.log('Button is held down');
      log.innerText = ('Recoding...');
      // Xử lý khi nhấn giữ
    }, 500);
  });

  button.addEventListener('touchend', () => {
    // Khi thả nút ra
    clearTimeout(holdTimeout);
  });

  button.addEventListener('click', () => {
    console.log('Button is clicked');
    log.innerText = ('Please click is record.');
    // Xử lý khi chỉ click
  });
</script>
</body>
</html>
